{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Appbar } from 'react-native-paper';\nimport AlarmEntry from \"../components/AlarmEntry\";\nimport AppDefines from \"../../defines/AppDefines\";\nimport AlarmContainer from \"../AlarmManager\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar HomeScreen = function (_React$Component) {\n  _inherits(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this);\n    _this.state = {\n      alarmManager: AlarmContainer.instance\n    };\n\n    _this.state.alarmManager.load({\n      onLoadedCb: function onLoadedCb() {\n        _this.setState(_this.state);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"OnAlarmAdded\",\n    value: function OnAlarmAdded() {\n      this.props.navigation.navigate(\"Creation\");\n    }\n  }, {\n    key: \"OnAlarmRemoved\",\n    value: function OnAlarmRemoved(_ref) {\n      var id = _ref.id;\n      this.state.alarmManager.removeAlarm({\n        id: id\n      });\n      this.setState(this.state);\n    }\n  }, {\n    key: \"OnStatusChanged\",\n    value: function OnStatusChanged() {\n      this.state.alarmManager.save();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.Update();\n    }\n  }, {\n    key: \"Update\",\n    value: function Update() {\n      if (this.props.route.params && this.props.route.params.newAlarm != null) {\n        this.state.alarmManager.addAlarm({\n          alarm: this.props.route.params.newAlarm\n        });\n        this.props.route.params.newAlarm = null;\n        this.setState(this.state);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(View, {\n        style: {\n          flex: 1,\n          backgroundColor: this.props.theme.colors.background\n        },\n        children: [_jsxs(Appbar.Header, {\n          children: [_jsx(Appbar.Content, {\n            title: AppDefines.text.titleHomeScreen\n          }), _jsx(Appbar.Action, {\n            icon: \"plus\",\n            onPress: this.OnAlarmAdded.bind(this)\n          })]\n        }), _jsx(ScrollView, {\n          children: this.state.alarmManager.getAlarms().map(function (alarm, i) {\n            return _jsx(AlarmEntry, {\n              id: i,\n              alarm: alarm,\n              theme: _this2.props.theme,\n              OnAlarmRemoved: _this2.OnAlarmRemoved.bind(_this2),\n              OnAlarmStatusChanged: _this2.OnStatusChanged.bind(_this2)\n            }, i);\n          })\n        })]\n      });\n    }\n  }]);\n\n  return HomeScreen;\n}(React.Component);\n\nexport default HomeScreen;","map":{"version":3,"sources":["C:/Users/vladi/source/repos/SimpleAlarmClockApp/lib/screens/HomeScreen.js"],"names":["React","Appbar","AlarmEntry","AppDefines","AlarmContainer","HomeScreen","state","alarmManager","instance","load","onLoadedCb","setState","props","navigation","navigate","id","removeAlarm","save","Update","route","params","newAlarm","addAlarm","alarm","flex","backgroundColor","theme","colors","background","text","titleHomeScreen","OnAlarmAdded","bind","getAlarms","map","i","OnAlarmRemoved","OnStatusChanged","Component"],"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;;AAIA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,OAAOC,cAAP;;;;IAEMC,U;;;;;AAEF,wBAAc;AAAA;;AAAA;;AACV;AADU,UAMdC,KANc,GAMN;AACJC,MAAAA,YAAY,EAAEH,cAAc,CAACI;AADzB,KANM;;AAGV,UAAKF,KAAL,CAAWC,YAAX,CAAwBE,IAAxB,CAA6B;AAAEC,MAAAA,UAAU,EAAE,sBAAM;AAAE,cAAKC,QAAL,CAAc,MAAKL,KAAnB;AAA4B;AAAlD,KAA7B;;AAHU;AAIb;;;;WAMD,wBAAe;AACX,WAAKM,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,UAA/B;AACH;;;WAED,8BAAuB;AAAA,UAANC,EAAM,QAANA,EAAM;AACnB,WAAKT,KAAL,CAAWC,YAAX,CAAwBS,WAAxB,CAAoC;AAAED,QAAAA,EAAE,EAAEA;AAAN,OAApC;AACA,WAAKJ,QAAL,CAAc,KAAKL,KAAnB;AACH;;;WAED,2BAAkB;AACd,WAAKA,KAAL,CAAWC,YAAX,CAAwBU,IAAxB;AACH;;;WAED,8BAAqB;AACjB,WAAKC,MAAL;AACH;;;WAED,kBAAS;AACL,UAAI,KAAKN,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,IAA2B,KAAKR,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBC,QAAxB,IAAoC,IAAnE,EAAyE;AACrE,aAAKf,KAAL,CAAWC,YAAX,CAAwBe,QAAxB,CAAiC;AAAEC,UAAAA,KAAK,EAAE,KAAKX,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBC;AAAjC,SAAjC;AACA,aAAKT,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBC,QAAxB,GAAmC,IAAnC;AACA,aAAKV,QAAL,CAAc,KAAKL,KAAnB;AACH;AACJ;;;WAED,kBAAS;AAAA;;AACL,aACI,MAAC,IAAD;AAAM,QAAA,KAAK,EACP;AACIkB,UAAAA,IAAI,EAAE,CADV;AAEIC,UAAAA,eAAe,EAAE,KAAKb,KAAL,CAAWc,KAAX,CAAiBC,MAAjB,CAAwBC;AAF7C,SADJ;AAAA,mBAMI,MAAC,MAAD,CAAQ,MAAR;AAAA,qBACI,KAAC,MAAD,CAAQ,OAAR;AAAgB,YAAA,KAAK,EAAEzB,UAAU,CAAC0B,IAAX,CAAgBC;AAAvC,YADJ,EAEI,KAAC,MAAD,CAAQ,MAAR;AAAe,YAAA,IAAI,EAAC,MAApB;AAA2B,YAAA,OAAO,EAAE,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB;AAApC,YAFJ;AAAA,UANJ,EAUI,KAAC,UAAD;AAAA,oBAEQ,KAAK1B,KAAL,CAAWC,YAAX,CAAwB0B,SAAxB,GAAoCC,GAApC,CACI,UAACX,KAAD,EAAQY,CAAR;AAAA,mBACI,KAAC,UAAD;AAAoB,cAAA,EAAE,EAAEA,CAAxB;AAA2B,cAAA,KAAK,EAAEZ,KAAlC;AAAyC,cAAA,KAAK,EAAE,MAAI,CAACX,KAAL,CAAWc,KAA3D;AACI,cAAA,cAAc,EAAE,MAAI,CAACU,cAAL,CAAoBJ,IAApB,CAAyB,MAAzB,CADpB;AAEI,cAAA,oBAAoB,EAAE,MAAI,CAACK,eAAL,CAAqBL,IAArB,CAA0B,MAA1B;AAF1B,eAAiBG,CAAjB,CADJ;AAAA,WADJ;AAFR,UAVJ;AAAA,QADJ;AAyBH;;;;EA/DoBnC,KAAK,CAACsC,S;;AAkE/B,eAAejC,UAAf","sourcesContent":["import * as React from 'react';\r\n\r\nimport { View, ScrollView } from 'react-native';\r\n\r\nimport { Appbar } from 'react-native-paper';\r\n\r\nimport AlarmEntry from '../components/AlarmEntry';\r\nimport AppDefines from '../../defines/AppDefines';\r\nimport AlarmContainer from '../AlarmManager';\r\n\r\nclass HomeScreen extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state.alarmManager.load({ onLoadedCb: () => { this.setState(this.state); }});\r\n    }\r\n\r\n    state = {\r\n        alarmManager: AlarmContainer.instance\r\n    }\r\n\r\n    OnAlarmAdded() {\r\n        this.props.navigation.navigate(\"Creation\");\r\n    }\r\n\r\n    OnAlarmRemoved({ id }) {\r\n        this.state.alarmManager.removeAlarm({ id: id });\r\n        this.setState(this.state);\r\n    }\r\n\r\n    OnStatusChanged() {\r\n        this.state.alarmManager.save();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.Update();\r\n    }\r\n\r\n    Update() {\r\n        if (this.props.route.params && this.props.route.params.newAlarm != null) {\r\n            this.state.alarmManager.addAlarm({ alarm: this.props.route.params.newAlarm });\r\n            this.props.route.params.newAlarm = null;\r\n            this.setState(this.state);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View style={\r\n                {\r\n                    flex: 1,\r\n                    backgroundColor: this.props.theme.colors.background,\r\n                }\r\n            }>\r\n                <Appbar.Header>\r\n                    <Appbar.Content title={AppDefines.text.titleHomeScreen} />\r\n                    <Appbar.Action icon=\"plus\" onPress={this.OnAlarmAdded.bind(this)} />\r\n                </Appbar.Header>\r\n                <ScrollView>\r\n                    {\r\n                        this.state.alarmManager.getAlarms().map(\r\n                            (alarm, i) => (\r\n                                <AlarmEntry key={i} id={i} alarm={alarm} theme={this.props.theme}\r\n                                    OnAlarmRemoved={this.OnAlarmRemoved.bind(this)}\r\n                                    OnAlarmStatusChanged={this.OnStatusChanged.bind(this)}\r\n                                />\r\n                            )\r\n                        )\r\n                    }\r\n                </ScrollView>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomeScreen;\r\n"]},"metadata":{},"sourceType":"module"}