{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport 'intl';\nimport 'intl/locale-data/jsonp/en';\nimport * as React from 'react';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { Provider as PaperProvider, Modal, withTheme } from 'react-native-paper';\nimport * as Notifications from 'expo-notifications';\nimport AlarmNotify from \"./components/AlarmNotify\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport CreationScreen from \"./screens/CreationScreen\";\nimport RadioPlayer from \"./RadioPlayer\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\nNotifications.setNotificationHandler({\n  handleNotification: function handleNotification() {\n    return _regeneratorRuntime.async(function handleNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              shouldShowAlert: true,\n              shouldPlaySound: true,\n              shouldSetBadge: true\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n});\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this);\n    _this.state = {\n      IsAlarmNotifyVisible: false,\n      CurrentRadioName: \"\"\n    };\n    Notifications.addNotificationReceivedListener(function (notification) {\n      RadioPlayer.instance.play({\n        uri: notification.request.content.data.radioUri\n      });\n      _this.state.IsAlarmNotifyVisible = true;\n      _this.state.CurrentRadioName = notification.request.content.data.radioName;\n\n      _this.setState(_this.state);\n    });\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"CloseNotify\",\n    value: function CloseNotify() {\n      RadioPlayer.instance.stop();\n      this.state.IsAlarmNotifyVisible = false;\n      this.setState(this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsxs(PaperProvider, {\n        children: [_jsx(NavigationContainer, {\n          children: _jsxs(Stack.Navigator, {\n            initialRouteName: \"Home\",\n            screenOptions: {\n              header: function header() {}\n            },\n            children: [_jsx(Stack.Screen, {\n              name: \"Home\",\n              component: withTheme(HomeScreen)\n            }), _jsx(Stack.Screen, {\n              name: \"Creation\",\n              component: withTheme(CreationScreen)\n            })]\n          })\n        }), _jsx(Modal, {\n          visible: this.state.IsAlarmNotifyVisible,\n          dismissable: false,\n          children: _jsx(AlarmNotify, {\n            radioName: this.state.CurrentRadioName,\n            onHide: this.CloseNotify.bind(this)\n          })\n        })]\n      });\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["C:/Users/vladi/source/repos/SimpleAlarmClockApp/lib/App.js"],"names":["React","createNativeStackNavigator","NavigationContainer","Provider","PaperProvider","Modal","withTheme","Notifications","AlarmNotify","HomeScreen","CreationScreen","RadioPlayer","Stack","setNotificationHandler","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","App","state","IsAlarmNotifyVisible","CurrentRadioName","addNotificationReceivedListener","notification","instance","play","uri","request","content","data","radioUri","radioName","setState","stop","header","CloseNotify","bind","Component"],"mappings":";;;;;;;;;;;AAAA,OAAO,MAAP;AACA,OAAO,2BAAP;AAEA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,0BAAT,QAA2C,gCAA3C;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,QAAQ,IAAIC,aAArB,EAAoCC,KAApC,EAA2CC,SAA3C,QAA4D,oBAA5D;AAEA,OAAO,KAAKC,aAAZ,MAA+B,oBAA/B;AAEA,OAAOC,WAAP;AACA,OAAOC,UAAP;AACA,OAAOC,cAAP;AACA,OAAOC,WAAP;;;AAEA,IAAMC,KAAK,GAAGX,0BAA0B,EAAxC;AAEAM,aAAa,CAACM,sBAAd,CAAqC;AACjCC,EAAAA,kBAAkB,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,6CAAa;AAC7BC,cAAAA,eAAe,EAAE,IADY;AAE7BC,cAAAA,eAAe,EAAE,IAFY;AAG7BC,cAAAA,cAAc,EAAE;AAHa,aAAb;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADa,CAArC;;IAQqBC,G;;;;;AAEjB,iBAAc;AAAA;;AAAA;;AACV;AADU,UAYdC,KAZc,GAYN;AACJC,MAAAA,oBAAoB,EAAE,KADlB;AAEJC,MAAAA,gBAAgB,EAAE;AAFd,KAZM;AAGVd,IAAAA,aAAa,CAACe,+BAAd,CACI,UAAAC,YAAY,EAAI;AACZZ,MAAAA,WAAW,CAACa,QAAZ,CAAqBC,IAArB,CAA0B;AAACC,QAAAA,GAAG,EAAEH,YAAY,CAACI,OAAb,CAAqBC,OAArB,CAA6BC,IAA7B,CAAkCC;AAAxC,OAA1B;AACA,YAAKX,KAAL,CAAWC,oBAAX,GAAkC,IAAlC;AACA,YAAKD,KAAL,CAAWE,gBAAX,GAA8BE,YAAY,CAACI,OAAb,CAAqBC,OAArB,CAA6BC,IAA7B,CAAkCE,SAAhE;;AACA,YAAKC,QAAL,CAAc,MAAKb,KAAnB;AACH,KANL;AAHU;AAUb;;;;WAOD,uBAAc;AACVR,MAAAA,WAAW,CAACa,QAAZ,CAAqBS,IAArB;AACA,WAAKd,KAAL,CAAWC,oBAAX,GAAkC,KAAlC;AACA,WAAKY,QAAL,CAAc,KAAKb,KAAnB;AACH;;;WAED,kBAAS;AACL,aACI,MAAC,aAAD;AAAA,mBACI,KAAC,mBAAD;AAAA,oBACI,MAAC,KAAD,CAAO,SAAP;AAAiB,YAAA,gBAAgB,EAAC,MAAlC;AAAyC,YAAA,aAAa,EAAE;AAAEe,cAAAA,MAAM,EAAE,kBAAM,CAAG;AAAnB,aAAxD;AAAA,uBACI,KAAC,KAAD,CAAO,MAAP;AAAc,cAAA,IAAI,EAAC,MAAnB;AAA0B,cAAA,SAAS,EAAE5B,SAAS,CAACG,UAAD;AAA9C,cADJ,EAEI,KAAC,KAAD,CAAO,MAAP;AAAc,cAAA,IAAI,EAAC,UAAnB;AAA8B,cAAA,SAAS,EAAEH,SAAS,CAACI,cAAD;AAAlD,cAFJ;AAAA;AADJ,UADJ,EAOI,KAAC,KAAD;AAAO,UAAA,OAAO,EAAE,KAAKS,KAAL,CAAWC,oBAA3B;AAAiD,UAAA,WAAW,EAAE,KAA9D;AAAA,oBACI,KAAC,WAAD;AAAa,YAAA,SAAS,EAAE,KAAKD,KAAL,CAAWE,gBAAnC;AAAqD,YAAA,MAAM,EAAE,KAAKc,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB;AAA7D;AADJ,UAPJ;AAAA,QADJ;AAaH;;;;EAvC4BpC,KAAK,CAACqC,S;;SAAlBnB,G","sourcesContent":["import 'intl';\nimport 'intl/locale-data/jsonp/en';\n\nimport * as React from 'react';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { Provider as PaperProvider, Modal, withTheme } from 'react-native-paper';\n\nimport * as Notifications from 'expo-notifications';\n\nimport AlarmNotify from './components/AlarmNotify';\nimport HomeScreen from './screens/HomeScreen';\nimport CreationScreen from './screens/CreationScreen';\nimport RadioPlayer from './RadioPlayer';\n\nconst Stack = createNativeStackNavigator();\n\nNotifications.setNotificationHandler({\n    handleNotification: async () => ({\n        shouldShowAlert: true,\n        shouldPlaySound: true,\n        shouldSetBadge: true,\n    }),\n});\n\nexport default class App extends React.Component {\n\n    constructor() {\n        super();\n\n        Notifications.addNotificationReceivedListener(\n            notification => {\n                RadioPlayer.instance.play({uri: notification.request.content.data.radioUri});\n                this.state.IsAlarmNotifyVisible = true;\n                this.state.CurrentRadioName = notification.request.content.data.radioName;\n                this.setState(this.state);\n            });\n    }\n\n    state = {\n        IsAlarmNotifyVisible: false,\n        CurrentRadioName: \"\",\n    }\n\n    CloseNotify() {\n        RadioPlayer.instance.stop();\n        this.state.IsAlarmNotifyVisible = false;\n        this.setState(this.state);\n    }\n\n    render() {\n        return (\n            <PaperProvider>\n                <NavigationContainer>\n                    <Stack.Navigator initialRouteName=\"Home\" screenOptions={{ header: () => { } }}>\n                        <Stack.Screen name=\"Home\" component={withTheme(HomeScreen)} />\n                        <Stack.Screen name=\"Creation\" component={withTheme(CreationScreen)} />\n                    </Stack.Navigator>\n                </NavigationContainer>\n                <Modal visible={this.state.IsAlarmNotifyVisible} dismissable={false} >\n                    <AlarmNotify radioName={this.state.CurrentRadioName} onHide={this.CloseNotify.bind(this)} />\n                </Modal>\n            </PaperProvider>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}