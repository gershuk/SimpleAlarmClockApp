{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Appbar } from 'react-native-paper';\nimport AlarmEntry from \"../components/AlarmEntry\";\nimport AppDefines from \"../defines/AppDefines\";\nimport AlarmManager from \"../framework/AlarmManager\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar HomeScreen = function (_React$Component) {\n  _inherits(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this);\n    _this.state = {\n      alarmManager: AlarmManager.instance\n    };\n\n    _this.state.alarmManager.load({\n      onLoadedCb: function onLoadedCb(bResult) {\n        _this.setState(_this.state);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"_onAddAlarmPressed\",\n    value: function _onAddAlarmPressed() {\n      this.props.navigation.navigate(\"Creation\");\n    }\n  }, {\n    key: \"_onAlarmRemove\",\n    value: function _onAlarmRemove(_ref) {\n      var id = _ref.id;\n      this.state.alarmManager.removeAlarm({\n        id: id\n      });\n      this.setState(this.state);\n    }\n  }, {\n    key: \"_onAlarmStatusChange\",\n    value: function _onAlarmStatusChange(_ref2) {\n      var id = _ref2.id;\n      this.state.alarmManager.save();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.route.params && this.props.route.params.newAlarm != null) {\n        this.state.alarmManager.addAlarm({\n          alarm: this.props.route.params.newAlarm\n        });\n        this.props.route.params.newAlarm = null;\n        this.setState(this.state);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(View, {\n        style: {\n          flex: 1,\n          backgroundColor: this.props.theme.colors.background\n        },\n        children: [_jsxs(Appbar.Header, {\n          children: [_jsx(Appbar.Content, {\n            title: AppDefines.text.titleHomeScreen\n          }), _jsx(Appbar.Action, {\n            icon: \"plus\",\n            onPress: this._onAddAlarmPressed.bind(this)\n          })]\n        }), _jsx(ScrollView, {\n          children: this.state.alarmManager.getAlarms().map(function (alarm, i) {\n            return _jsx(AlarmEntry, {\n              id: i,\n              alarm: alarm,\n              theme: _this2.props.theme,\n              onAlarmRemove: _this2._onAlarmRemove.bind(_this2),\n              onAlarmStatusChange: _this2._onAlarmStatusChange.bind(_this2)\n            }, i);\n          })\n        })]\n      });\n    }\n  }]);\n\n  return HomeScreen;\n}(React.Component);\n\nexport default HomeScreen;","map":{"version":3,"sources":["C:/Users/vladi/source/repos/SimpleAlarmClockApp/screens/HomeScreen.js"],"names":["React","Appbar","AlarmEntry","AppDefines","AlarmManager","HomeScreen","state","alarmManager","instance","load","onLoadedCb","bResult","setState","props","navigation","navigate","id","removeAlarm","save","route","params","newAlarm","addAlarm","alarm","flex","backgroundColor","theme","colors","background","text","titleHomeScreen","_onAddAlarmPressed","bind","getAlarms","map","i","_onAlarmRemove","_onAlarmStatusChange","Component"],"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;;AAIA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,OAAOC,YAAP;;;;IAEMC,U;;;;;AAEF,wBAAc;AAAA;;AAAA;;AACV;AADU,UAUdC,KAVc,GAUN;AACJC,MAAAA,YAAY,EAAEH,YAAY,CAACI;AADvB,KAVM;;AAGV,UAAKF,KAAL,CAAWC,YAAX,CAAwBE,IAAxB,CAA6B;AACzBC,MAAAA,UAAU,EAAE,oBAACC,OAAD,EAAa;AACrB,cAAKC,QAAL,CAAc,MAAKN,KAAnB;AACH;AAHwB,KAA7B;;AAHU;AAQb;;;;WAMD,8BAAqB;AACjB,WAAKO,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,UAA/B;AACH;;;WAED,8BAAuB;AAAA,UAANC,EAAM,QAANA,EAAM;AACnB,WAAKV,KAAL,CAAWC,YAAX,CAAwBU,WAAxB,CAAoC;AAAED,QAAAA,EAAE,EAAEA;AAAN,OAApC;AACA,WAAKJ,QAAL,CAAc,KAAKN,KAAnB;AACH;;;WAED,qCAA6B;AAAA,UAANU,EAAM,SAANA,EAAM;AACzB,WAAKV,KAAL,CAAWC,YAAX,CAAwBW,IAAxB;AACH;;;WAED,8BAAqB;AACjB,UAAI,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,IAA2B,KAAKP,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,QAAxB,IAAoC,IAAnE,EAAyE;AACrE,aAAKf,KAAL,CAAWC,YAAX,CAAwBe,QAAxB,CAAiC;AAAEC,UAAAA,KAAK,EAAE,KAAKV,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC;AAAjC,SAAjC;AACA,aAAKR,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,QAAxB,GAAmC,IAAnC;AACA,aAAKT,QAAL,CAAc,KAAKN,KAAnB;AACH;AACJ;;;WAED,kBAAS;AAAA;;AACL,aACI,MAAC,IAAD;AAAM,QAAA,KAAK,EACP;AACIkB,UAAAA,IAAI,EAAE,CADV;AAEIC,UAAAA,eAAe,EAAE,KAAKZ,KAAL,CAAWa,KAAX,CAAiBC,MAAjB,CAAwBC;AAF7C,SADJ;AAAA,mBAMI,MAAC,MAAD,CAAQ,MAAR;AAAA,qBACI,KAAC,MAAD,CAAQ,OAAR;AAAgB,YAAA,KAAK,EAAEzB,UAAU,CAAC0B,IAAX,CAAgBC;AAAvC,YADJ,EAEI,KAAC,MAAD,CAAQ,MAAR;AAAe,YAAA,IAAI,EAAC,MAApB;AAA2B,YAAA,OAAO,EAAE,KAAKC,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B;AAApC,YAFJ;AAAA,UANJ,EAUI,KAAC,UAAD;AAAA,oBAEQ,KAAK1B,KAAL,CAAWC,YAAX,CAAwB0B,SAAxB,GAAoCC,GAApC,CACI,UAACX,KAAD,EAAQY,CAAR;AAAA,mBACI,KAAC,UAAD;AAEI,cAAA,EAAE,EAAEA,CAFR;AAGI,cAAA,KAAK,EAAEZ,KAHX;AAII,cAAA,KAAK,EAAE,MAAI,CAACV,KAAL,CAAWa,KAJtB;AAKI,cAAA,aAAa,EAAE,MAAI,CAACU,cAAL,CAAoBJ,IAApB,CAAyB,MAAzB,CALnB;AAMI,cAAA,mBAAmB,EAAE,MAAI,CAACK,oBAAL,CAA0BL,IAA1B,CAA+B,MAA/B;AANzB,eACSG,CADT,CADJ;AAAA,WADJ;AAFR,UAVJ;AAAA,QADJ;AA6BH;;;;EAnEoBnC,KAAK,CAACsC,S;;AAsE/B,eAAejC,UAAf","sourcesContent":["import * as React from 'react';\n\nimport { View, ScrollView } from 'react-native';\n\nimport { Appbar } from 'react-native-paper';\n\nimport AlarmEntry from '../components/AlarmEntry';\nimport AppDefines from '../defines/AppDefines';\nimport AlarmManager from '../framework/AlarmManager';\n\nclass HomeScreen extends React.Component {\n\n    constructor() {\n        super();\n\n        this.state.alarmManager.load({\n            onLoadedCb: (bResult) => {\n                this.setState(this.state);\n            }\n        });\n    }\n\n    state = {\n        alarmManager: AlarmManager.instance\n    }\n\n    _onAddAlarmPressed() {\n        this.props.navigation.navigate(\"Creation\");\n    }\n\n    _onAlarmRemove({ id }) {\n        this.state.alarmManager.removeAlarm({ id: id });\n        this.setState(this.state);\n    }\n\n    _onAlarmStatusChange({ id }) {\n        this.state.alarmManager.save();\n    }\n\n    componentDidUpdate() {\n        if (this.props.route.params && this.props.route.params.newAlarm != null) {\n            this.state.alarmManager.addAlarm({ alarm: this.props.route.params.newAlarm });\n            this.props.route.params.newAlarm = null;\n            this.setState(this.state);\n        }\n    }\n\n    render() {\n        return (\n            <View style={\n                {\n                    flex: 1,\n                    backgroundColor: this.props.theme.colors.background,\n                }\n            }>\n                <Appbar.Header>\n                    <Appbar.Content title={AppDefines.text.titleHomeScreen} />\n                    <Appbar.Action icon=\"plus\" onPress={this._onAddAlarmPressed.bind(this)} />\n                </Appbar.Header>\n                <ScrollView>\n                    {\n                        this.state.alarmManager.getAlarms().map(\n                            (alarm, i) => (\n                                <AlarmEntry\n                                    key={i}\n                                    id={i}\n                                    alarm={alarm}\n                                    theme={this.props.theme}\n                                    onAlarmRemove={this._onAlarmRemove.bind(this)}\n                                    onAlarmStatusChange={this._onAlarmStatusChange.bind(this)}\n                                />\n                            )\n                        )\n                    }\n                </ScrollView>\n            </View>\n        );\n    }\n}\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}